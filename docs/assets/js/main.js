"use strict";let number=1;const styleBlue=document.querySelector(".style-blue"),styleRed=document.querySelector(".style-red"),styleYellow=document.querySelector(".style-yellow"),colorLeftSquare=document.querySelector(".js-square"),colorName=document.querySelector(".js-name-print"),colorBackground=document.querySelector(".js-background"),colorIcons=document.querySelectorAll(".js-icon"),colorBorder=document.querySelectorAll(".js-border"),palette1=["style-blue-dark","style-blue-medium","style-blue-light","style-blue-background","style-blue-background-icon"],palette2=["style-red-dark","style-red-medium","style-red-light","style-red-background","style-red-background-icon"],palette3=["style-yellow-dark","style-yellow-medium","style-yellow-light","style-yellow-background","style-yellow-background-icon"];function handlerStyle(){iconChangeBlue(),iconChangeRed(),iconChangeYellow(),"style-blue"===event.currentTarget.classList.value?(number=1,changeColors(palette1),removeColors(palette2),removeColors(palette3)):"style-red"===event.currentTarget.classList.value?(number=2,changeColors(palette2),removeColors(palette1),removeColors(palette3)):"style-yellow"===event.currentTarget.classList.value&&(number=3,changeColors(palette3),removeColors(palette1),removeColors(palette2))}function changeColors(e){colorName.classList.add(e[0]),colorLeftSquare.classList.add(e[1]),colorBackground.classList.add(e[3]);for(const t of colorIcons)t.classList.add(e[0]);for(const t of colorBorder)t.classList.add(e[2])}function removeColors(e){colorName.classList.remove(e[0]),colorLeftSquare.classList.remove(e[1]),colorBackground.classList.remove(e[3]);for(const t of colorIcons)t.classList.remove(e[0]);for(const t of colorBorder)t.classList.remove(e[2])}styleBlue.addEventListener("click",handlerStyle),styleRed.addEventListener("click",handlerStyle),styleYellow.addEventListener("click",handlerStyle);const inputName=document.querySelector(".js-name"),inputJob=document.querySelector(".js-job"),inputPhone=document.querySelector(".js-phone"),inputEmail=document.querySelector(".js-email"),inputLinkedin=document.querySelector(".js-linkedin"),inputGithub=document.querySelector(".js-github"),printPhone=document.querySelector(".js-phone-icon"),printName=document.querySelector(".card__top__title__name"),printJob=document.querySelector(".card__top__title__role"),printEmail=document.querySelector(".js-email-icon"),printLinkedin=document.querySelector(".js-linkedin-print"),printGithub=document.querySelector(".js-github-print"),userData={};function saveFormValues(){userData.name=inputName.value,userData.job=inputJob.value,userData.phone=inputPhone.value,userData.email=inputEmail.value,userData.linkedin=inputLinkedin.value,userData.github=inputGithub.value,userData.palette=number,userData.photo=photoForm,localStorage.setItem("userData",JSON.stringify(userData))}function sendUserData(){printName.innerHTML=userData.name,printJob.innerHTML=userData.job,printPhone.href="tel:"+userData.phone,printEmail.href="mailto:"+userData.email,printLinkedin.href="https://www.linkedin.com/in/"+userData.linkedin,printGithub.href="https://github.com/"+userData.github}function printUserData(){saveFormValues(),sendUserData()}function storageData(){let e=JSON.parse(localStorage.getItem("userData"));0!==e&&(printName.innerHTML=e.name,printJob.innerHTML=e.job,printPhone.href="tel:"+e.phone,printEmail.href="mailto:"+e.email,printLinkedin.href="https://www.linkedin.com/in/"+e.linkedin,printGithub.href="https://github.com/"+e.github,inputName.value=e.name,inputJob.value=e.job,inputPhone.value=e.phone,inputEmail.value=e.email,inputLinkedin.value=e.linkedin,inputGithub.value=e.github,number=e.palette,photoForm=e.photo,saveFormValues())}document.addEventListener("DOMContentLoaded",storageData),inputName.addEventListener("keyup",printUserData),inputJob.addEventListener("keyup",printUserData),inputPhone.addEventListener("keyup",printUserData),inputEmail.addEventListener("keyup",printUserData),inputLinkedin.addEventListener("keyup",printUserData),inputGithub.addEventListener("keyup",printUserData);const resetButton=document.querySelector(".js-reset-button"),form=document.querySelector(".js-form");function resetForm(){form.reset(),printUserData(),changeColors(palette1),removeColors(palette2),removeColors(palette3),printName.innerHTML="Nombre Apellido",printJob.innerHTML="Front-en developer",document.querySelector(".js__profile-image").removeAttribute("style"),document.querySelector(".js__profile-preview").removeAttribute("style"),buttonContainer.classList.remove("inactive"),buttonTwitter.classList.add("hidden"),iconChangeBlue(),iconChangeRed(),iconChangeYellow()}resetButton.addEventListener("click",resetForm);const buttonCard=document.querySelector(".js-share"),buttonTwitter=document.querySelector(".js-twitter"),buttonContainer=document.querySelector(".form__share__button"),url=document.querySelector(".js-twitter-url"),twitterButton=document.querySelector(".twitter-link");function getJSONFromInputs(e){return e.reduce((function(e,t){return"BUTTON"!==t.nodeName&&(e[t.name]=t.value),e}),{})}function loadPhoto(){let e=document.querySelector("#img-selector").files[0];fr.addEventListener("load",sendData),fr.readAsDataURL(e)}function sendData(){let e=getJSONFromInputs(userData);e.photo=fr.result,sendRequest(e)}function createCard(e){buttonContainer.classList.remove("active"),buttonContainer.classList.add("inactive"),buttonTwitter.classList.remove("hidden"),console.log(userData),showURL()}function showURL(e){if(console.log(e),e.success){const t="✨Echa un vistazo a mi tarjeta de visita Sailor Code ✨ ";url.innerHTML=`${e.cardURL}<a href="${e.cardURL}" target="_blank" ></a>`,url.setAttribute("href",`https://twitter.com/intent/tweet?text=${t}&url=${e.cardURL}`),twitterButton.setAttribute("href",`https://twitter.com/intent/tweet?text=${t}&url=${e.cardURL}`),createCard()}else url.innerHTML="ERROR:"+e.error}buttonCard.addEventListener("click",(function(e){e.preventDefault(),fetch("https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/",{method:"POST",body:JSON.stringify(userData),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){showURL(e)})).catch((function(e){console.log(e)}))}));const click=document.querySelector(".click"),section=document.querySelector(".colors-container"),arrowDown=document.querySelector(".moonicondown"),arrowUp=document.querySelector(".mooniconup");function displayArrow(e){e.preventDefault(),section.classList.toggle("hidden"),arrowUp.classList.toggle("hidden"),arrowDown.classList.toggle("hidden")}click.addEventListener("click",displayArrow);const click2=document.querySelector(".click2"),section2=document.querySelector(".form__section__signup"),arrowDown2=document.querySelector(".moonicondown2"),arrowUp2=document.querySelector(".mooniconup2");function displayArrow2(e){e.preventDefault(),section2.classList.toggle("hidden"),arrowUp2.classList.toggle("hidden"),arrowDown2.classList.toggle("hidden")}click2.addEventListener("click",displayArrow2);const click3=document.querySelector(".click3"),section3=document.querySelector(".form__share__button"),arrowDown3=document.querySelector(".moonicondown3"),arrowUp3=document.querySelector(".mooniconup3");function displayArrow3(e){e.preventDefault(),section3.classList.toggle("hidden"),arrowUp3.classList.toggle("hidden"),arrowDown3.classList.toggle("hidden")}click3.addEventListener("click",displayArrow3);const fr=new FileReader,uploadBtn=document.querySelector(".js__profile-trigger"),fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");let photoForm="";function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,photoForm=fr.result,printUserData()}function fakeFileClick(e){e.preventDefault(),fileField.click()}uploadBtn.addEventListener("click",fakeFileClick),fileField.addEventListener("change",getImage);const inputBlue=document.querySelector(".js-input-blue"),inputRed=document.querySelector(".js-input-red"),inputYellow=document.querySelector(".js-input-yellow"),colorIconBackgroundMail=document.querySelector(".js-background-email"),colorIconBackgroundPhone=document.querySelector(".js-background-phone"),colorIconBackgroundLinkedin=document.querySelector(".js-background-linkedin"),colorIconBackgroundGithub=document.querySelector(".js-background-github");function iconChangeBlue(){let e=inputEmail.value,t=inputGithub.value,n=inputPhone.value,o=inputLinkedin.value;0!==e.length&&inputBlue.checked?colorIconBackgroundMail.classList.add("style-blue-background-icon"):colorIconBackgroundMail.classList.remove("style-blue-background-icon"),0!==t.length&&inputBlue.checked?colorIconBackgroundGithub.classList.add("style-blue-background-icon"):colorIconBackgroundGithub.classList.remove("style-blue-background-icon"),0!==o.length&&inputBlue.checked?colorIconBackgroundLinkedin.classList.add("style-blue-background-icon"):colorIconBackgroundLinkedin.classList.remove("style-blue-background-icon"),0!==n.length&&inputBlue.checked?colorIconBackgroundPhone.classList.add("style-blue-background-icon"):colorIconBackgroundPhone.classList.remove("style-blue-background-icon")}function iconChangeYellow(){let e=inputEmail.value,t=inputGithub.value,n=inputPhone.value,o=inputLinkedin.value;0!==e.length&&inputYellow.checked?colorIconBackgroundMail.classList.add("style-yellow-background-icon"):colorIconBackgroundMail.classList.remove("style-yellow-background-icon"),0!==t.length&&inputYellow.checked?colorIconBackgroundGithub.classList.add("style-yellow-background-icon"):colorIconBackgroundGithub.classList.remove("style-yellow-background-icon"),0!==o.length&&inputYellow.checked?colorIconBackgroundLinkedin.classList.add("style-yellow-background-icon"):colorIconBackgroundLinkedin.classList.remove("style-yellow-background-icon"),0!==n.length&&inputYellow.checked?colorIconBackgroundPhone.classList.add("style-yellow-background-icon"):colorIconBackgroundPhone.classList.remove("style-yellow-background-icon")}function iconChangeRed(){let e=inputEmail.value,t=inputGithub.value,n=inputPhone.value,o=inputLinkedin.value;0!==e.length&&inputRed.checked?colorIconBackgroundMail.classList.add("style-red-background-icon"):colorIconBackgroundMail.classList.remove("style-red-background-icon"),0!==t.length&&inputRed.checked?colorIconBackgroundGithub.classList.add("style-red-background-icon"):colorIconBackgroundGithub.classList.remove("style-red-background-icon"),0!==o.length&&inputRed.checked?colorIconBackgroundLinkedin.classList.add("style-red-background-icon"):colorIconBackgroundLinkedin.classList.remove("style-red-background-icon"),0!==n.length&&inputRed.checked?colorIconBackgroundPhone.classList.add("style-red-background-icon"):colorIconBackgroundPhone.classList.remove("style-red-background-icon")}inputEmail.addEventListener("keyup",iconChangeBlue),inputGithub.addEventListener("keyup",iconChangeBlue),inputLinkedin.addEventListener("keyup",iconChangeBlue),inputPhone.addEventListener("keyup",iconChangeBlue),inputEmail.addEventListener("keyup",iconChangeRed),inputGithub.addEventListener("keyup",iconChangeRed),inputLinkedin.addEventListener("keyup",iconChangeRed),inputPhone.addEventListener("keyup",iconChangeRed),inputEmail.addEventListener("keyup",iconChangeYellow),inputGithub.addEventListener("keyup",iconChangeYellow),inputLinkedin.addEventListener("keyup",iconChangeYellow),inputPhone.addEventListener("keyup",iconChangeYellow);